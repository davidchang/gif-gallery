<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Everyone Who Said Hi on your Birthday!</title>
    <link href="bootstrap.min.css" rel="stylesheet">
    <style>
      .wrap {
        max-width: 960px;
        padding: 10px 20px;
      }
      .section {
        margin: 7px;
        padding: 7px;
        border: 1px solid #CCC;
        width: 320px;
      }
      .section img {
        width: 100%;
      }
    </style>
  </head>
  <body>

    <div class="wrap">
      <h1>Everyone Who Said Hi on your Birthday!</h1>
      <h3 id='loading'>Loading (may take a while)...</h3>
    </div>
    <div id='gallery'></div>

    <script src='data.js'></script>
    <script src='masonry.js'></script>
    <script>
      var _gaq=[['_setAccount','UA-35626315-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>

    <script>
      var $gallery = document.getElementById('gallery');
      document.getElementById('loading').style.display = 'none';

      var keys = Object.keys(data);
      keys = keys.sort(function() { return 0.5 - Math.random() });
      keys = keys.sort(function() { return 0.5 - Math.random() });
      for(var i = 0; i < keys.length; ++i) {
        var section = document.createElement('section');
        section.className = 'section';

        var img = document.createElement('img');
        img.src = data[keys[i]].src;

        var div = document.createElement('div');
        div.innerHTML = data[keys[i]].message;

        section.appendChild(img);
        section.appendChild(div);

        $gallery.appendChild(section);
      }

      var msnry = new Masonry( $gallery, {
        // options
        columnWidth: 0,
        itemSelector: '.section'
      });
    </script>

  </body>
</html>
